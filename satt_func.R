match_samp <- function(x, treat, y){

	# x should be a numeric matrix
	# treat should be a numeric vector
	# y should be a numeric vector


	# run lasso to find covariates that predict x

	# run genmatch

	# run gam to estimate


	# return matched sample

}

satt_est <- function(matched_sample){

	# run gam here ... 

	# return satt, confidence interval
}